{
  "version": "2.1",
  "lookups": {
    "Gender": {
      "m": "M",
      "man": "M",
      "men": "M",
      "male": "M",
      "homme": "M",
      "hombre": "M",
      "uomo": "M",
      "masculino": "M",
      "w": "W",
      "her": "W",
      "woman": "W",
      "women": "W",
      "wom": "W",
      "female": "W",
      "femme": "W",
      "mujer": "W",
      "donna": "W",
      "feminino": "W",
      "u": "U",
      "unisex": "U",
      "unisexe": "U",
      "mixte": "U",
      "pour femme": "W",
      "pour homme": "M",
      "for her": "W",
      "for him": "M",
      "p/homme": "M",
      "boy": "M",
      "senorita": "W",
      "bella": "W",
      "father": "M",
      "son": "M",
      "hero": "M"
    },
    "Size": {
      "50": "50",
      "100": "100",
      "125": "125",
      "200": "200",
      "250": "250",
      "mini": "5",
      "travel": "15",
      "sample": "2"
    },
    "Unit": {
      "ml": "ml",
      "millilitre": "ml",
      "oz": "oz",
      "fl oz": "oz",
      "floz": "oz",
      "fluid ounce": "oz"
    },
    "Currency": {
      "€": "EUR",
      "eur": "EUR",
      "euro": "EUR",
      "euros": "EUR",
      "$": "USD",
      "usd": "USD",
      "dollar": "USD",
      "dollars": "USD",
      "£": "GBP",
      "gbp": "GBP",
      "pound": "GBP",
      "pounds": "GBP",
      "chf": "CHF",
      "franc": "CHF",
      "francs": "CHF",
      "zł": "PLN",
      "pln": "PLN",
      "zloty": "PLN",
      "kč": "CZK",
      "czk": "CZK",
      "koruna": "CZK",
      "ft": "HUF",
      "huf": "HUF",
      "forint": "HUF",
      "lei": "RON",
      "ron": "RON",
      "лв": "BGN",
      "bgn": "BGN",
      "lev": "BGN",
      "kn": "HRK",
      "hrk": "HRK",
      "kr": "NOK"
    },
    "Concentration": {
      "edt": "EDT",
      "eau de toilette": "EDT",
      "edp": "EDP",
      "eau de parfum": "EDP",
      "parfum": "EDP",
      "perfume": "EDP",
      "edc": "EDC",
      "eau de cologne": "EDC",
      "edm": "EDM",
      "eau de mist": "EDM",
      "body mist": "Body Mist",
      "aftershave": "Aftershave",
      "cologne": "Cologne"
    },
    "COO": {
      "france": "France",
      "fr": "France",
      "italy": "Italy",
      "it": "Italy",
      "spain": "Spain",
      "germany": "Germany",
      "united kingdom": "United Kingdom",
      "usa": "USA",
      "united states": "USA",
      "switzerland": "Switzerland",
      "sweden": "Sweden",
      "austria": "Austria",
      "belgium": "Belgium",
      "netherlands": "Netherlands",
      "poland": "Poland",
      "czech republic": "Czech Republic",
      "hungary": "Hungary",
      "romania": "Romania",
      "bulgaria": "Bulgaria",
      "croatia": "Croatia",
      "denmark": "Denmark",
      "norway": "Norway",
      "es": "Spain",
      "de": "Germany",
      "uk": "United Kingdom",
      "gb": "United Kingdom",
      "us": "USA",
      "ch": "Switzerland",
      "se": "Sweden",
      "at": "Austria",
      "be": "Belgium",
      "nl": "Netherlands",
      "pl": "Poland",
      "cz": "Czech Republic",
      "hu": "Hungary",
      "ro": "Romania",
      "bg": "Bulgaria",
      "hr": "Croatia",
      "dk": "Denmark",
      "no": "Norway"
    },
    "Brand": {
      "l'occitane": "L'Occitane",
      "l occitane": "L'Occitane",
      "l'occitane en provence": "L'Occitane",
      "l occitane en provence": "L'Occitane",
      "bvlgari": "Bvlgari",
      "bvlgar": "Bvlgari",
      "bvl": "Bvlgari",
      "adidas": "Adidas",
      "calvin klein": "Calvin Klein",
      "ck": "Calvin Klein",
      "dolce & gabbana": "Dolce & Gabbana",
      "dolce and gabbana": "Dolce & Gabbana",
      "d&g": "Dolce & Gabbana",
      "d and g": "Dolce & Gabbana",
      "dkny": "DONNA KARAN",
      "giorgio armani": "Giorgio Armani",
      "armani": "Giorgio Armani",
      "paco rabanne": "Paco Rabanne",
      "jean paul gaultier": "Jean Paul Gaultier",
      "jpg": "Jean Paul Gaultier",
      "ralph lauren": "Ralph Lauren",
      "ralph": "Ralph Lauren",
      "tom ford": "Tom Ford",
      "ford": "Tom Ford",
      "versace": "Versace",
      "givenchy": "Givenchy",
      "chanel": "Chanel",
      "dior": "Dior",
      "christian dior": "Dior",
      "hermes": "Hermès",
      "hermès": "Hermès",
      "gucci": "Gucci",
      "burberry": "Burberry",
      "montblanc": "Montblanc",
      "mont blanc": "Montblanc",
      "lancome": "Lancôme",
      "lancôme": "Lancôme",
      "valentino": "Valentino",
      "victor&rolf": "Victor & Rolf",
      "victor & rolf": "Victor & Rolf",
      "victor": "Victor & Rolf",
      "coach": "Coach",
      "ysl": "Yves Saint Laurent",
      "yves saint laurent": "Yves Saint Laurent"
    },
    "Type": {
      "set": "Set",
      "sets": "Set",
      "gift": "Set",
      "gift set": "Set",
      "giftset": "Set",
      "gift-set": "Set",
      "giftbox": "Set",
      "kit": "Set",
      "tester": "Tester",
      "test": "Tester",
      "testeur": "Tester",
      "tube": "Tube",
      "mini": "Mini",
      "mini set": "Mini",
      "sample": "Sample",
      "samples": "Sample",
      "sample size": "Sample",
      "travel": "Travel",
      "travel size": "Travel",
      "promo": "Promotional",
      "promotional": "Promotional",
      "regular": "Regular",
      "full size": "Regular",
      "regulars": "Regular",
      "rollerball": "Roller ball",
      "flash": "Flash",
      "reg": "Regular",
      "testers": "Tester",
      "niche": "Niche",
      "limited": "Limited Edition",
      "limited edition": "Limited Edition"
    }
  },
  "suppliers": [
    {
      "name": "HAND",
      "Currency": "USD",
      "parserConfig": {
        "settings": {
          "stopOnFirstMatchPerColumn": false,
          "defaultCulture": "en-US",
          "preferFirstAssignment": true
        },
        "columns": [
          {
            "column": "A",
            "rule": {
              "actions": [
                {
                  "Op": "Split",
                  "Input": "Text",
                  "Output": "SplitText",
                  "Parameters": { "delimiter": ":" }
                },
                {
                  "Op": "Conditional",
                  "Input": "SplitText[0]",
                  "Output": "TypeRaw",
                  "Parameters": {
                    "condition": "SplitText.Length == 3"
                  }
                },
                {
                  "Op": "Map",
                  "Input": "TypeRaw",
                  "Output": "Product.Type",
                  "Parameters": {
                    "condition": "SplitText.Length == 3",
                    "table": "Type",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Conditional",
                  "Input": "SplitText[1]",
                  "Output": "Product.Brand",
                  "Parameters": {
                    "condition": "SplitText.Length == 3",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Conditional",
                  "Input": "SplitText[2]",
                  "Output": "Offer.Ref",
                  "Parameters": {
                    "condition": "SplitText.Length == 3",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Map",
                  "Input": "GenderOrType",
                  "Output": "Product.Gender",
                  "Parameters": {
                    "table": "Gender",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Map",
                  "Input": "GenderOrType",
                  "Output": "Product.Type",
                  "Parameters": {
                    "table": "Type",
                    "assign": "true"
                  }
                }
              ]
            }
          },
          {
            "column": "B",
            "rule": {
              "actions": [
                {
                  "Op": "Assign",
                  "Input": "Text",
                  "Output": "Offer.Ref"
                }
              ]
            }
          },
          {
            "column": "C",
            "rule": {
              "actions": [
                {
                  "Op": "Assign",
                  "Input": "Text",
                  "Output": "Product.EAN"
                }
              ]
            }
          },
          {
            "column": "E",
            "rule": {
              "actions": [
                {
                  "Op": "Assign",
                  "Input": "Text",
                  "Output": "Offer.Description"
                },
                {
                  "Op": "Find",
                  "Input": "Text",
                  "Output": "Parenthesis",
                  "Parameters": {
                    "pattern": "\\((?<size>[^)]+)\\)",
                    "options": "first,remove"
                  }
                },
                {
                  "Op": "Find",
                  "Input": "Parenthesis",
                  "Output": "Product.Size",
                  "Parameters": {
                    "pattern": "(?<num>\\d+(?:\\.\\d+)?)",
                    "options": "first,assign"
                  }
                },
                {
                  "Op": "Find",
                  "Input": "Parenthesis",
                  "Output": "UnitRaw",
                  "Parameters": {
                    "pattern": "(?i)(?<unit>ml|oz|fl\\s*oz)",
                    "options": "first,ignorecase"
                  }
                },
                {
                  "Op": "Map",
                  "Input": "UnitRaw",
                  "Output": "Product.Units",
                  "Parameters": {
                    "table": "Unit",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Find",
                  "Input": "Parenthesis.Clean",
                  "Output": "Concentrations",
                  "Parameters": {
                    "pattern": "lookup:Concentration",
                    "options": "all,ignorecase,remove"
                  }
                },
                {
                  "Op": "Map",
                  "Input": "Concentrations[0]",
                  "Output": "Product.Concentration",
                  "Parameters": {
                    "table": "Concentration",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Find",
                  "Input": "Concentrations.Clean",
                  "Output": "Genders",
                  "Parameters": {
                    "pattern": "lookup:Gender",
                    "options": "all,ignorecase,remove"
                  }
                },
                {
                  "Op": "Map",
                  "Input": "Genders[0]",
                  "Output": "Product.Gender",
                  "Parameters": {
                    "table": "Gender",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Assign",
                  "Input": "Genders.Clean",
                  "Output": "Product.Line"
                }
              ]
            }
          },
          {
            "column": "F",
            "rule": {
              "actions": [
                {
                  "Op": "Assign",
                  "Input": "Text",
                  "Output": "Offer.Quantity"
                }
              ]
            }
          },
          {
            "column": "G",
            "rule": {
              "actions": [
                {
                  "Op": "Assign",
                  "Input": "Text",
                  "Output": "Offer.Price"
                }
              ]
            }
          }
        ]
      },
      "fileStructure": {
        "dataStartRowIndex": 2,
        "expectedColumnCount": 7,
        "headerRowIndex": 1,
        "detection": { "fileNamePatterns": [ "hand*.xls*" ] }
      }
    },
    {
      "name": "POL",
      "Currency": "USD",
      "parserConfig": {
        "settings": {
          "stopOnFirstMatchPerColumn": false,
          "defaultCulture": "en-US",
          "preferFirstAssignment": true
        },
        "columns": [
          {
            "column": "A",
            "rule": {
              "actions": [
                {
                  "Op": "Split",
                  "Input": "Text",
                  "Output": "SplitText",
                  "Parameters": { "delimiter": ":" }
                },
                {
                  "Op": "Conditional",
                  "Input": "SplitText[0]",
                  "Output": "Product.Brand",
                  "Parameters": {
                    "condition": "SplitText.Length == 3",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Conditional",
                  "Input": "SplitText[1]",
                  "Output": "GenderOrType",
                  "Parameters": { "condition": "SplitText.Length == 3" }
                },
                {
                  "Op": "Conditional",
                  "Input": "SplitText[2]",
                  "Output": "Offer.Ref",
                  "Parameters": {
                    "condition": "SplitText.Length == 3",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Map",
                  "Input": "GenderOrType",
                  "Output": "Product.Gender",
                  "Parameters": {
                    "table": "Gender",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Map",
                  "Input": "GenderOrType",
                  "Output": "Product.Type",
                  "Parameters": {
                    "table": "Type",
                    "assign": "true"
                  }
                }
              ]
            }
          },
          {
            "column": "B",
            "rule": {
              "actions": [
                {
                  "Op": "Assign",
                  "Input": "Text",
                  "Output": "Offer.Description"
                },

                {
                  "Op": "Find",
                  "Input": "Text",
                  "Output": "Sizes",
                  "Parameters": {
                    "pattern": "(?i)(?<size>\\d+(?:\\.\\d+)?\\s*(?:ml|oz|fl\\s*oz))",
                    "options": "all,ignorecase,remove"
                  }
                },

                {
                  "Op": "Find",
                  "Input": "Sizes[0]",
                  "Output": "Product.Size",
                  "Parameters": {
                    "pattern": "(?<num>\\d+(?:\\.\\d+)?)",
                    "options": "first,assign"
                  }
                },

                {
                  "Op": "Find",
                  "Input": "Sizes[0]",
                  "Output": "UnitRaw",
                  "Parameters": {
                    "pattern": "(?i)(?<unit>ml|oz|fl\\s*oz)",
                    "options": "first,ignorecase"
                  }
                },

                {
                  "Op": "Map",
                  "Input": "UnitRaw",
                  "Output": "Product.Units",
                  "Parameters": {
                    "table": "Unit",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Find",
                  "Input": "Sizes.Clean",
                  "Output": "Concentrations",
                  "Parameters": {
                    "pattern": "lookup:Concentration",
                    "options": "all,ignorecase,remove"
                  }
                },
                {
                  "Op": "Map",
                  "Input": "Concentrations[0]",
                  "Output": "Product.Concentration",
                  "Parameters": {
                    "table": "Concentration",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Find",
                  "Input": "Concentrations.Clean",
                  "Output": "Genders",
                  "Parameters": {
                    "pattern": "lookup:Gender",
                    "options": "all,ignorecase,remove"
                  }
                },
                {
                  "Op": "Map",
                  "Input": "Genders[0]",
                  "Output": "Product.Gender",
                  "Parameters": {
                    "table": "Gender",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Find",
                  "Input": "Genders.Clean",
                  "Output": "Types",
                  "Parameters": {
                    "pattern": "lookup:Type",
                    "options": "all,ignorecase,remove"
                  }
                },
                {
                  "Op": "Map",
                  "Input": "Types[0]",
                  "Output": "Product.Type",
                  "Parameters": {
                    "table": "Type",
                    "assign": "true"
                  }
                },
                {
                  "Op": "Find",
                  "Input": "Types.Clean",
                  "Output": "FinalText",
                  "Parameters": {
                    "pattern": "[/-]*",
                    "options": "all,ignorecase,remove"
                  }
                },
                {
                  "Op": "Assign",
                  "Input": "FinalText.Clean",
                  "Output": "Product.Line"
                }
              ]
            }
          },
          {
            "column": "C",
            "rule": {
              "actions": [
                {
                  "Op": "Assign",
                  "Input": "Text",
                  "Output": "Product.EAN"
                }
              ]
            }
          },
          {
            "column": "D",
            "rule": {
              "actions": [
                {
                  "Op": "Assign",
                  "Input": "Text",
                  "Output": "Offer.Quantity"
                }
              ]
            }
          },
          {
            "column": "E",
            "rule": {
              "actions": [
                {
                  "Op": "Assign",
                  "Input": "Text",
                  "Output": "Offer.Price"
                }
              ]
            }
          }
        ]
      },
      "fileStructure": {
        "dataStartRowIndex": 8,
        "expectedColumnCount": 5,
        "headerRowIndex": 1,
        "detection": { "fileNamePatterns": [ "pol*.xls*", "POL*.xls*" ] }
      }
    }
  ],
  "columnTemplates": {
    "version": "1.0",
    "productType": "perfume",
    "templates": {
      "EAN": {
        "rule": {
          "actions": [
            {
              "Op": "Assign",
              "Input": "Text",
              "Output": "Product.EAN"
            }
          ]
        },
        "metadata": {
          "displayName": "EAN Code",
          "description": "European Article Number (barcode)",
          "classification": "ProductEAN",
          "validation": {
            "patterns": [ "^\\d+$" ],
            "maxLength": 20,
            "isRequired": true,
            "skipEntireRow": true
          }
        }
      },
      "Name": {
        "rule": {
          "actions": [
            {
              "Op": "Assign",
              "Input": "Text",
              "Output": "Product.Name"
            }
          ]
        },
        "metadata": {
          "displayName": "Name",
          "description": "Product name",
          "classification": "ProductName"
        }
      },
      "Price": {
        "rule": {
          "actions": [
            {
              "Op": "Assign",
              "Input": "Text",
              "Output": "Offer.Price"
            }
          ]
        },
        "metadata": {
          "displayName": "Price",
          "description": "Product price from offers",
          "classification": "OfferPrice",
          "validation": {
            "dataType": "decimal",
            "isRequired": true,
            "skipEntireRow": true
          }
        }
      },
      "Currency": {
        "rule": {
          "actions": [
            {
              "Op": "Assign",
              "Input": "Text",
              "Output": "Offer.Currency"
            }
          ]
        },
        "metadata": {
          "displayName": "Currency",
          "description": "Currency of the price",
          "classification": "OfferCurrency",
          "validation": {
            "isRequired": true
          }
        }
      },
      "Quantity": {
        "rule": {
          "actions": [
            {
              "Op": "RemoveSymbols",
              "Input": "Text",
              "Output": "Quantity.Clean"
            },
            {
              "Op": "Assign",
              "Input": "Quantity.Clean",
              "Output": "Offer.Quantity"
            }
          ]
        },
        "metadata": {
          "displayName": "Quantity",
          "description": "Available stock quantity",
          "classification": "OfferQuantity",
          "validation": {
            "dataType": "integer",
            "isRequired": true,
            "skipEntireRow": true
          }
        }
      },
      "Description": {
        "rule": {
          "actions": [
            {
              "Op": "Assign",
              "Input": "Text",
              "Output": "Offer.Description"
            }
          ]
        },
        "metadata": {
          "displayName": "Description",
          "description": "Product description",
          "classification": "OfferDescription",
          "validation": {
            "maxLength": 500
          }
        }
      }
    }
  }
}